<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Global Members &lt;readonly&gt; module:Literal :string Common constant definitions. Type: string Source: enum/Literal.js module:Middleware_BodyParser Source: middlewares/bodyParser.js Methods addRoute(router, method, route, actions) Add a route to a router, skipped while the server running in deaf mode. Parameters: Name Type Description router method route actions Source: Routable.js addRouter(nestedRouter) Attach a router to this app module, skipped while the server running in deaf mode Parameters: Name Type Description nestedRouter Router Source: Routable.js getMiddlewareFactory(name) Get the factory method of a middleware from module hierarchy. Parameters: Name Type Description name Source: Routable.js Returns: Type function loadMiddlewaresFrom(dir) Load and regsiter middleware files from a specified path. Parameters: Name Type Description dir Source: Routable.js module:Middleware_AccessLog(name, app) Get a cached middleware from the app's object store. Parameters: Name Type Description name string Name of the middleware stored in the app's object store. app Routable Source: middlewares/fromStore.js Returns: Type AsyncFunction module:Middleware_Action(controllerAction, app) Action middleware creator Parameters: Name Type Description controllerAction string app Routable Source: middlewares/action.js module:Middleware_FlashMessage() add message to flash messages ctx.flashMessage.warning = 'Log Out Successfully!'; read all flash messages ctx.state.flashMessage.messages // or ctx.flashMessage.messages read warning message ctx.state.flashMessage.warning Source: middlewares/flashMessage.js module:Middleware_PassportCheck(options, app) Initialize ensureLoggedIn middleware Parameters: Name Type Description options object app Routable Source: middlewares/passportCheck.js module:Middleware_Session(options, app) Initialize session middleware Parameters: Name Type Description options object Session options app Routable Properties: Name Type Argument Default Description options.key string &lt;optional&gt; 'mowa:sid' Cookie name defaulting to mowa.sid options.prefix string &lt;optional&gt; 'mowa:sess:' Session prefix for store, defaulting to mowa:sess: options.maxAge number &lt;optional&gt; SessionStore's expiration time (ms), defaulting to 86400000 (1 day) options.autoCommit bool &lt;optional&gt; true Automatically commit headers (default true) options.overwrite bool &lt;optional&gt; true Can overwrite or not (default true) options.httpOnly bool &lt;optional&gt; true HttpOnly or not (default true) options.signed bool &lt;optional&gt; true Signed or not options.rolling bool &lt;optional&gt; false Force a session identifier cookie to be set on every response. The expiration is reset to the original maxAge, resetting the expiration countdown. (default is false) options.renew bool &lt;optional&gt; false Renew session when session is nearly expired, so we can always keep user logged in. (default is false) options.genSid function &lt;optional&gt; The way of generating external session id is controlled by the options.genid, which defaults to Date.now() + '-' + uid.sync(24) options.valid function &lt;optional&gt; valid(ctx, session), valid session value before use it options.beforeSave function &lt;optional&gt; beforeSave(ctx, session), hook before save session options.store object &lt;optional&gt; Session store instance. It can be any Object that has the methods set, get, destroy like MemoryStore. Source: middlewares/session.js module:Middleware_Views( [options], app) Initiate the views middleware Parameters: Name Type Argument Description options Object &lt;optional&gt; Template options app Routable The owner app module Properties: Name Type Argument Description options.extension string &lt;optional&gt; Default extension for your views options.map Object &lt;optional&gt; Extensions to engines map options.options Object &lt;optional&gt; View state locals Properties Name Type Argument Description cache bool &lt;optional&gt; Flag to enable cache Source: middlewares/views.js module:Router_Module(app, baseRoute, moduleItem) Create a module-based router. Parameters: Name Type Description app Routable baseRoute string moduleItem * Source: routers/module.js Example '&lt;base path&gt;': { module: { middlewares: controller: } } '&lt;base path&gt;': { module: \"controller\" } module:Router_Rest(app, baseRoute, options) Create a RESTful router. Parameters: Name Type Description app * baseRoute string options objects Properties: Name Type Argument Description options.resourcesPath string &lt;optional&gt; options.middlewares object | array &lt;optional&gt; Source: routers/rest.js Example '&lt;base path&gt;': { rest: { resourcesPath: middlewares: } } route http method function of ctrl /:resource get query /:resource post create /:resource/:id get detail /:resource/:id put update /:resource/:id delete remove registerMiddlewareFactory(name, factoryMethod) Register the factory method of a named middleware. Parameters: Name Type Description name string The name of the middleware factoryMethod function The factory method of a middleware Source: Routable.js toWebPath(relativePath [, pathOrQuery]) Translate a relative path and query parameters if any to a url path Parameters: Name Type Argument Description relativePath string Relative path pathOrQuery * &lt;optional&gt; &lt;repeatable&gt; Queries Source: Routable.js Returns: Type string useMiddlewares(router, middlewares) Use middlewares Parameters: Name Type Description router Router middlewares * Can be an array of middleware entries or a key-value list of registerred middlewares Source: Routable.js Returns: Type Routable wrapAction(ctx, action) Prepare context for koa action Parameters: Name Type Description ctx Object Koa request context action function Action function Source: Routable.js Returns: Type function Type Definitions &lt;async&gt; KoaActionFunction(ctx [, next]) Koa middleware function Parameters: Name Type Argument Description ctx object The koa request and response context. See koajs about ctx details next KoaActionFunction &lt;optional&gt; Next middleware or action. Properties: Name Type Description ctx.reqeust object The koa request object. ctx.response object The koa response object. Source: serverFeatures/koa.js × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Modules Classes Controller BadRequest InvalidConfiguration ServerError WebModule WebServer Mixins withHttpStatus Events httpReady Http server ready event Source: serverFeatures/koa.js × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Classes Classes Controller BadRequest InvalidConfiguration ServerError WebModule WebServer Mixins withHttpStatus Events httpReady Http server ready event Source: serverFeatures/koa.js × Search results Close "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Mixins Classes Controller BadRequest InvalidConfiguration ServerError WebModule WebServer Mixins withHttpStatus Events httpReady Http server ready event Source: serverFeatures/koa.js × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction @k-suite/serverA full-stack (aimed to be full-stack) web/mobile application framework based on koa2. (ES7 required) 1. ConceptsServerA mowa server is a standalone node server acting as a hosting container for Mowa applications. It mounts applications to configured routes either under the same hostname or different hostnames. A server will dispatch a http request to hosted applications according to the server routing settings. It may have server-wide middlewares touching every requests before dispatching them to the right application. ApplicationA mowa application is a web module hosted by a mowa server. It mounts controllers or middlewares to configured routes. Currenlty, an application is not running in a totally separate sandbox in the hosting environment. ControllerA mowa controller is a plain object exported by a JavaScript module containing several actions to handle web requests and response to the reqeusting client. ActionA mowa action is a koa2-styled action which is a async function and handles one client request at a time. Besides all the koa context, the code in a mowa action can also access the appModule object which represents the instance of the application. async (ctx, next) =&gt; { ... }FeatureA feature is a configuratin-driven functional module of the server or an application. Built-in features include bootstrap, loggers, middlewares, koa, routing, i18n, and etc. Every feature is a top-level config item in the server configuraiton file or application configuration file. Starting PhraseThe starting of a server or an application include 5 consecutive phrases: 1). Initial Phrase 2). Service Registration Phrase 3). Engine Configuration Phrase 4). Middleware Registration Phrase 5). Routing Configuration Phrase (The starting process of an application starts within the server's routing configuration phrase) A feature mentioned above is designed to be activated in a certain phrase which is specified in the feature definition file. MiddlewareA mowa middleware actually should be called a middleware factory. It is a function creating a koa-styled middleware. The middleware factory can be configured in the section of \"middlewares\" feature of the configuration file or as an option in the setting of a certain router. RouterTBD. OolongOolong is an embeded domain specific language (DSL) in mowa. The oolong dsl engine will build database scripts, database access models and data-related UI according to oolong entity definition files. It also shipped with a CLI tool to do automatic deployment of the database structure. 2. Project Structure /conf - server or application configuration files /client - client-side source code /server - server-side source code /server/bootstrap - default path of bootstrap scripts (if boot feature is enabled in server or application config) /server/models - backend model files /server/controllers - backend controller files /server/views - backend view files /app_modules - child applications /server/db - database initial scripts including test data /server/models - database access models (usually automatically generated by oolong DSL) /oolong - oolong entity definition files /public - default path of static files (if serveStatic middleware is enabled) /middlewares - middlewares extension /features - features extension 3. Get StartedConfigurations1) Server Configuration Environment specific configuration /conf/server.default.json /conf/server.development.json - Development specific configuration, overrides server.default.json /conf/server.production.json - Production specific configuration, overrides server.default.json 2) App Module Configuration Environment specific configuration /app_modules/&lt;module name&gt;/conf/app.default.json /app_modules/&lt;module name&gt;/conf/app.development.json - Development specific configuration, overrides app.default.json /app_modules/&lt;module name&gt;/conf/app.production.json - Production specific configuration, overrides app.default.json 3) Feature Configuration Each top-level key-value pair in the configuration file is the config of a feature, e.g. loggers, koa, mysql Key is the feature name Value is the feature's own config 4. Built-in FeaturesBootstrapSpecify a path containing scripts to be executed during initial phrase. Options: [path] - Bootstrap scripts path, default: ./server/bootstrap5. ConventionDesign by contractRefer to: https://www.npmjs.com/package/babel-plugin-contract Action this context appModule - the webModule instance state - the default view state for view renderer _self - Current landing url __ - i18n interface _makePath(relativePath, query) _makeUrl(relativePath, query) _csrf - if csrf middleware attached License MIT × Search results Close "},"Controller.html":{"id":"Controller.html","title":"Class: Controller","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Class: Controller Controller Controller base class. new Controller(app) Parameters: Name Type Description app Routable Source: patterns/Controller.js × Search results Close "},"module-Errors.html":{"id":"module-Errors.html","title":"Module: Errors","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Errors Error definitions. Source: Errors.js Classes BadRequest InvalidConfiguration ServerError Mixins withHttpStatus × Search results Close "},"module-Errors-BadRequest.html":{"id":"module-Errors-BadRequest.html","title":"Class: BadRequest","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Class: BadRequest Errors~ BadRequest Http BadRequest, 400. new BadRequest() Mixes In: withHttpStatus withName withExtraInfo Source: Errors.js Extends Error × Search results Close "},"module-Errors-InvalidConfiguration.html":{"id":"module-Errors-InvalidConfiguration.html","title":"Class: InvalidConfiguration","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Class: InvalidConfiguration Errors~ InvalidConfiguration Error caused by invalid configuration. new InvalidConfiguration(message [, app] [, item]) Parameters: Name Type Argument Description message string Error message app App &lt;optional&gt; The related app module item string &lt;optional&gt; The related config item Mixes In: withHttpStatus withName withExtraInfo Source: Errors.js Extends Error × Search results Close "},"module-Errors-ServerError.html":{"id":"module-Errors-ServerError.html","title":"Class: ServerError","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Class: ServerError Errors~ ServerError Error caused by all kinds of runtime errors. new ServerError(message, code, otherExtra) Parameters: Name Type Description message string Error message code * otherExtra * Mixes In: withHttpStatus withName withExtraInfo Source: Errors.js Extends Error Members code :integer|string Error Code Type: integer | string Source: Errors.js × Search results Close "},"module-Errors-withHttpStatus.html":{"id":"module-Errors-withHttpStatus.html","title":"Mixin: withHttpStatus","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Mixin: withHttpStatus Errors~ withHttpStatus Adds a status property to the class. Source: Errors.js × Search results Close "},"module-Feature_AppRouting.html":{"id":"module-Feature_AppRouting.html","title":"Module: Feature_AppRouting","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_AppRouting Enable routing web requests to a child app. Source: serverFeatures/appRouting.js Example 'appRouting': { '&lt;mounting point&gt;': { name: 'app name', npmModule: false, // whether is a npm module options: { // module options }, settings: { // can be referenced in config file } } } Members &lt;static&gt; type :string This feature is loaded at plugin stage. Type: string Source: serverFeatures/appRouting.js Methods &lt;static&gt; load_(server, routes) Load the feature. Parameters: Name Type Description server WebServer The web server module object. routes object Routes and configuration. Source: serverFeatures/appRouting.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_DataSource.html":{"id":"module-Feature_DataSource.html","title":"Module: Feature_DataSource","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_DataSource Enable data source feature Source: features/dataSource.js Members &lt;static&gt; type :string This feature is loaded at service stage Type: string Source: features/dataSource.js Methods &lt;static&gt; load_(app, dataSources) Load the feature Parameters: Name Type Description app ServiceContainer The app module object dataSources object Datasource settings Source: features/dataSource.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Firebase.html":{"id":"module-Feature_Firebase.html","title":"Module: Feature_Firebase","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_Firebase Enable firebase feature. Source: features/firebaseAdmin.js Members &lt;static&gt; type :string This feature is loaded at service stage Type: string Source: features/firebaseAdmin.js Methods &lt;static&gt; load_(app, options) Load the feature Parameters: Name Type Description app App The app module object options object Options for the feature Properties: Name Type Description options.serviceAccount string The serivceAccount config file path. Source: features/firebaseAdmin.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Koa.html":{"id":"module-Feature_Koa.html","title":"Module: Feature_Koa","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_Koa Enable koa-based web engine. Source: serverFeatures/koa.js Members &lt;static&gt; type :string This feature is loaded at service stage Type: string Source: serverFeatures/koa.js Methods &lt;static&gt; load_(server, options) Load the feature Parameters: Name Type Description server WebServer The web server options object Options for the feature Properties: Name Type Argument Default Description options.trustProxy bool &lt;optional&gt; When true proxy header fields will be trusted options.keys Array.&lt;string&gt; &lt;optional&gt; Set signed cookie keys options.httpPort int &lt;optional&gt; The http port number options.subdomainOffset int &lt;optional&gt; 2 The offset of subdomains to ignore, default: 2 Source: serverFeatures/koa.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Middlewares.html":{"id":"module-Feature_Middlewares.html","title":"Module: Feature_Middlewares","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_Middlewares Enable middlewares Source: features/middlewares.js Members &lt;static&gt; type :string This feature is loaded at plugin stage Type: string Source: features/middlewares.js Methods &lt;static&gt; load_(app, middlewares) Load the feature Parameters: Name Type Description app Routable The app module object middlewares * Middlewares and options Source: features/middlewares.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_ObjectStore.html":{"id":"module-Feature_ObjectStore.html","title":"Module: Feature_ObjectStore","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_ObjectStore Enable object store feature Source: features/middlewareFactory.js Members &lt;static&gt; type :string This feature is loaded at init stage Type: string Source: features/middlewareFactory.js Methods &lt;static&gt; load_(app, factories) Load the feature Parameters: Name Type Description app App The app module object factories object Object factories Source: features/middlewareFactory.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Oolong.html":{"id":"module-Feature_Oolong.html","title":"Module: Feature_Oolong","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_Oolong Enable oolong DSL Source: features/oolong.js Members &lt;static&gt; type :string This feature is loaded at init stage Type: string Source: features/oolong.js Methods &lt;static&gt; load_(app, oolong) Load the feature Parameters: Name Type Description app App The app module object oolong object Oolong settings Properties: Name Type Argument Description oolong.logSqlStatement bool &lt;optional&gt; Flag to turn on sql debugging log Source: features/oolong.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Passport.html":{"id":"module-Feature_Passport.html","title":"Module: Feature_Passport","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_Passport Enable passport feature Source: features/passport.js Members &lt;static&gt; type :string This feature is loaded at service stage Type: string Source: features/passport.js Methods &lt;static&gt; load_(app, config) Load the feature Parameters: Name Type Description app Routable The app module object config object Passport settings Properties: Name Type Argument Default Description config.useSession bool &lt;optional&gt; false Use session or not, default: false config.init object Passport initialization settings Properties Name Type Argument Default Description userProperty string &lt;optional&gt; 'user' User property name, default: user config.auth object Passport authentication settings Properties Name Type Argument Default Description loginUrl string The url of login page successRedirect string &lt;optional&gt; After successful login, user will redirect to given URL if successReturnToOrRedirect not set successReturnToOrRedirect string &lt;optional&gt; '/' After successful login, if session.returnTo exists, then the user will be redirected to session.returnTo else to the given URL config.strategies array Passport strategies, e.g. [ 'local', 'facebook' ] Source: features/passport.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Routing.html":{"id":"module-Feature_Routing.html","title":"Module: Feature_Routing","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Feature_Routing Enable web request routing. Source: features/routing.js Members &lt;static&gt; type :string This feature is loaded at final stage. Type: string Source: features/routing.js Methods &lt;static&gt; load_(app, routes) Load the feature. Parameters: Name Type Description app Routable The app module object routes object Routes and configuration Source: features/routing.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Literal.html":{"id":"module-Literal.html","title":"Module: Literal","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Literal Common constants Source: enum/Literal.js Example const Literal = require('@k-suite/server/lib/enum/Literal'); Members &lt;inner&gt; ALLOWED_HTTP_METHODS Allowed http methods Source: enum/Literal.js &lt;inner&gt; APP_FEATURES_PATH App specific features path Source: enum/Literal.js &lt;inner&gt; APP_MODULES_PATH App modules path Source: enum/Literal.js &lt;inner&gt; BACKEND_PATH Backend files path Source: enum/Literal.js &lt;inner&gt; BACKEND_SRC_PATH Backend sources path Source: enum/Literal.js &lt;inner&gt; CLIENT_SRC_PATH Frontend source files path, e.g. react source Source: enum/Literal.js &lt;inner&gt; CONTROLLERS_PATH Controllers files path, under backend folder Source: enum/Literal.js &lt;inner&gt; DB_SCRIPTS_PATH Database scripts path Source: enum/Literal.js &lt;inner&gt; LOCALE_PATH Locale dictionary files path Source: enum/Literal.js &lt;inner&gt; MIDDLEWARES_PATH Middleware files path Source: enum/Literal.js &lt;inner&gt; MODELS_PATH Models files path, under backend folder Source: enum/Literal.js &lt;inner&gt; PUBLIC_PATH Frontend static files path, e.g. images, css, js Source: enum/Literal.js &lt;inner&gt; REMOTE_CALLS_PATH Remote calls controllers path Source: enum/Literal.js &lt;inner&gt; RESOURCES_PATH Controllers files path, under backend folder Source: enum/Literal.js &lt;inner&gt; SERVER_CFG_NAME Server-wide config file name Source: enum/Literal.js &lt;inner&gt; SERVER_FEATURES_PATH Server features path Source: enum/Literal.js &lt;inner&gt; VIEWS_PATH Views files path, under backend folder Source: enum/Literal.js × Search results Close "},"module-Middleware_AccessLog.html":{"id":"module-Middleware_AccessLog.html","title":"Module: Middleware_AccessLog","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_AccessLog Add access log for every http request (require(\"Middleware_AccessLog\"))(name, app) Get a cached middleware from the app's object store. Parameters: Name Type Description name string Name of the middleware stored in the app's object store. app Routable Source: middlewares/fromStore.js Returns: Type AsyncFunction Module: Middleware_AccessLog Add access log for every http request (require(\"Middleware_AccessLog\"))(name, app) Get a cached middleware from the app's object store. Parameters: Name Type Description name string Name of the middleware stored in the app's object store. app Routable Source: middlewares/fromStore.js Returns: Type AsyncFunction × Search results Close "},"module-Middleware_Action.html":{"id":"module-Middleware_Action.html","title":"Module: Middleware_Action","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_Action Response action as middleware (require(\"Middleware_Action\"))(controllerAction, app) Action middleware creator Parameters: Name Type Description controllerAction string app Routable Source: middlewares/action.js × Search results Close "},"module-Middleware_BodyParser.html":{"id":"module-Middleware_BodyParser.html","title":"Module: Middleware_BodyParser","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_BodyParser Http request body parser middleware. Source: middlewares/bodyParser.js × Search results Close "},"module-Middleware_Compress.html":{"id":"module-Middleware_Compress.html","title":"Module: Middleware_Compress","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_Compress ETag middleware Source: middlewares/etag.js Methods &lt;inner&gt; koaCompress(options) Parameters: Name Type Description options Object The options are passed to zlib: http://nodejs.org/api/zlib.html#zlib_options Source: middlewares/compress.js Example compress: { filter: \"#!jsv: content_type =&gt; /text/i.test(content_type)\", threshold: 2048, flush: \"#!jst: ${require('zlib').Z_SYNC_FLUSH}\" } Module: Middleware_Compress Compress middleware. Source: middlewares/compress.js Methods &lt;inner&gt; koaCompress(options) Parameters: Name Type Description options Object The options are passed to zlib: http://nodejs.org/api/zlib.html#zlib_options Source: middlewares/compress.js Example compress: { filter: \"#!jsv: content_type =&gt; /text/i.test(content_type)\", threshold: 2048, flush: \"#!jst: ${require('zlib').Z_SYNC_FLUSH}\" } × Search results Close "},"module-Middleware_Csrf.html":{"id":"module-Middleware_Csrf.html","title":"Module: Middleware_Csrf","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_Csrf Cross-Site Request Forgery (CSRF) middleware Source: middlewares/csrf.js × Search results Close "},"module-Middleware_Favicon.html":{"id":"module-Middleware_Favicon.html","title":"Module: Middleware_Favicon","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_Favicon Middleware to serve favicon request. Source: middlewares/favicon.js × Search results Close "},"module-Middleware_FlashMessage.html":{"id":"module-Middleware_FlashMessage.html","title":"Module: Middleware_FlashMessage","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_FlashMessage (require(\"Middleware_FlashMessage\"))() add message to flash messages ctx.flashMessage.warning = 'Log Out Successfully!'; read all flash messages ctx.state.flashMessage.messages // or ctx.flashMessage.messages read warning message ctx.state.flashMessage.warning Source: middlewares/flashMessage.js × Search results Close "},"module-Middleware_MethodOverride.html":{"id":"module-Middleware_MethodOverride.html","title":"Module: Middleware_MethodOverride","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_MethodOverride HTTP method override middleware. Source: middlewares/methodOverride.js × Search results Close "},"module-Middleware_PassportCheck.html":{"id":"module-Middleware_PassportCheck.html","title":"Module: Middleware_PassportCheck","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_PassportCheck Middleware to check user logged in status based on passport (require(\"Middleware_PassportCheck\"))(options, app) Initialize ensureLoggedIn middleware Parameters: Name Type Description options object app Routable Source: middlewares/passportCheck.js × Search results Close "},"module-Middleware_PassportLogin.html":{"id":"module-Middleware_PassportLogin.html","title":"Module: Middleware_PassportLogin","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_PassportLogin Passport initialization middleware, required to initialize Passport service. Source: middlewares/passportAuth.js Methods &lt;inner&gt; createMiddleware(opt, app) Create a passport authentication middleware. Parameters: Name Type Description opt object Passport options app Routable Properties: Name Type Argument Description opt.strategy string Passport strategy opt.options object &lt;optional&gt; Passport strategy options opt.customHandler bool &lt;optional&gt; Handle authenticate result manually Source: middlewares/passportAuth.js Returns: Type KoaActionFunction × Search results Close "},"module-Middleware_ServeStatic.html":{"id":"module-Middleware_ServeStatic.html","title":"Module: Middleware_ServeStatic","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_ServeStatic Static file server middleware. Source: middlewares/serveStatic.js × Search results Close "},"module-Middleware_Session.html":{"id":"module-Middleware_Session.html","title":"Module: Middleware_Session","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_Session Session middleware (require(\"Middleware_Session\"))(options, app) Initialize session middleware Parameters: Name Type Description options object Session options app Routable Properties: Name Type Argument Default Description options.key string &lt;optional&gt; 'mowa:sid' Cookie name defaulting to mowa.sid options.prefix string &lt;optional&gt; 'mowa:sess:' Session prefix for store, defaulting to mowa:sess: options.maxAge number &lt;optional&gt; SessionStore's expiration time (ms), defaulting to 86400000 (1 day) options.autoCommit bool &lt;optional&gt; true Automatically commit headers (default true) options.overwrite bool &lt;optional&gt; true Can overwrite or not (default true) options.httpOnly bool &lt;optional&gt; true HttpOnly or not (default true) options.signed bool &lt;optional&gt; true Signed or not options.rolling bool &lt;optional&gt; false Force a session identifier cookie to be set on every response. The expiration is reset to the original maxAge, resetting the expiration countdown. (default is false) options.renew bool &lt;optional&gt; false Renew session when session is nearly expired, so we can always keep user logged in. (default is false) options.genSid function &lt;optional&gt; The way of generating external session id is controlled by the options.genid, which defaults to Date.now() + '-' + uid.sync(24) options.valid function &lt;optional&gt; valid(ctx, session), valid session value before use it options.beforeSave function &lt;optional&gt; beforeSave(ctx, session), hook before save session options.store object &lt;optional&gt; Session store instance. It can be any Object that has the methods set, get, destroy like MemoryStore. Source: middlewares/session.js × Search results Close "},"module-Middleware_TemplatedError.html":{"id":"module-Middleware_TemplatedError.html","title":"Module: Middleware_TemplatedError","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_TemplatedError Error response middleware with template engines Source: middlewares/templatedError.js Methods &lt;inner&gt; koaError(options) Parameters: Name Type Description options Object Template options Properties: Name Type Argument Default Description options.template string Path to template written with your template engine options.engine string Path to template written with your template engine options.cache bool Path to template written with your template engine, default: NODE_ENV != 'development' options.env string &lt;optional&gt; 'development' Path to template written with your template engine options.accepts Array.&lt;string&gt; Mimetypes passed to ctx.accepts, default: [ 'html', 'text', 'json' ] Source: middlewares/templatedError.js × Search results Close "},"module-Middleware_Views.html":{"id":"module-Middleware_Views.html","title":"Module: Middleware_Views","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Middleware_Views Template rendering middleware. (require(\"Middleware_Views\"))( [options], app) Initiate the views middleware Parameters: Name Type Argument Description options Object &lt;optional&gt; Template options app Routable The owner app module Properties: Name Type Argument Description options.extension string &lt;optional&gt; Default extension for your views options.map Object &lt;optional&gt; Extensions to engines map options.options Object &lt;optional&gt; View state locals Properties Name Type Argument Description cache bool &lt;optional&gt; Flag to enable cache Source: middlewares/views.js × Search results Close "},"module-Router_Module.html":{"id":"module-Router_Module.html","title":"Module: Router_Module","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Router_Module Module router for mounting a specific controller. (require(\"Router_Module\"))(app, baseRoute, moduleItem) Create a module-based router. Parameters: Name Type Description app Routable baseRoute string moduleItem * Source: routers/module.js Example '&lt;base path&gt;': { module: { middlewares: controller: } } '&lt;base path&gt;': { module: \"controller\" } × Search results Close "},"module-Router_Rest.html":{"id":"module-Router_Rest.html","title":"Module: Router_Rest","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Router_Rest RESTful router. (require(\"Router_Rest\"))(app, baseRoute, options) Create a RESTful router. Parameters: Name Type Description app * baseRoute string options objects Properties: Name Type Argument Description options.resourcesPath string &lt;optional&gt; options.middlewares object | array &lt;optional&gt; Source: routers/rest.js Example '&lt;base path&gt;': { rest: { resourcesPath: middlewares: } } route http method function of ctrl /:resource get query /:resource post create /:resource/:id get detail /:resource/:id put update /:resource/:id delete remove × Search results Close "},"module-Router_Rule.html":{"id":"module-Router_Rule.html","title":"Module: Router_Rule","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Module: Router_Rule Rule based router. Source: routers/rule.js Methods &lt;inner&gt; load_(app, baseRoute, options) Create a rule-based router. Parameters: Name Type Description app WebModule baseRoute string options object Source: routers/rule.js Example '&lt;base path&gt;': { rule: { middlewares: rules: { // type 1, default is \"get\", methods mapped to one action '&lt;sub route&gt;': '&lt;controller with relative path&gt;.&lt;action&gt;', // type 2, different methods mapped to different method '&lt;sub route&gt;': { '&lt;method&gt;': '&lt;controller with relative path&gt;.&lt;action&gt;' }, // type 3, with middleware '&lt;sub route&gt;': { '&lt;method&gt;': { '&lt;middleware name&gt;': { //middleware options } } }, // type 4, all methods mapped to one action '&lt;method&gt;:/&lt;sub route&gt;': '&lt;controller with relative path&gt;.&lt;action&gt;' // type 5, all methods mapped to one action '&lt;method&gt;:/&lt;sub route&gt;': { '&lt;middleware name&gt;': { //middleware options } } } } } × Search results Close "},"WebModule.html":{"id":"WebModule.html","title":"Class: WebModule","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Class: WebModule WebModule Web application module class. new WebModule(server, name, route, appPath [, options]) Parameters: Name Type Argument Description server WebServer name string The name of the app module. route string The base route of the app module. appPath string The path to load the app's module files options object &lt;optional&gt; The app module's extra options defined in its parent's configuration. Source: WebModule.js Extends Routable(ServiceContainer) Members route :string Mounting route. Type: string Source: WebModule.js server :WebServer Hosting server. Type: WebServer Source: WebModule.js Methods getService(name) Get a service from module hierarchy Parameters: Name Type Description name Source: WebModule.js Returns: Type object log(level, message, rest) Default log method, may be override by loggers feature Parameters: Name Type Argument Description level string Log level message string Log message rest object &lt;repeatable&gt; Extra meta data Source: WebModule.js Returns: Type Routable × Search results Close "},"WebServer.html":{"id":"WebServer.html","title":"Class: WebServer","body":" @k-suite/server Modules ErrorsFeature_AppRoutingFeature_DataSourceFeature_FirebaseFeature_KoaFeature_MiddlewaresFeature_ObjectStoreFeature_OolongFeature_PassportFeature_RoutingLiteralMiddleware_AccessLogMiddleware_ActionMiddleware_BodyParserMiddleware_CompressMiddleware_CsrfMiddleware_FaviconMiddleware_FlashMessageMiddleware_MethodOverrideMiddleware_PassportCheckMiddleware_PassportLoginMiddleware_ServeStaticMiddleware_SessionMiddleware_TemplatedErrorMiddleware_ViewsRouter_ModuleRouter_RestRouter_Rule Classes ControllerErrors~BadRequestErrors~InvalidConfigurationErrors~ServerErrorWebModuleWebServer Mixins Errors~withHttpStatus Events WebServer#event:httpReady Global addRouteaddRoutergetMiddlewareFactoryloadMiddlewaresFromregisterMiddlewareFactorytoWebPathuseMiddlewareswrapAction Class: WebServer WebServer Web server class. new WebServer( [name] [, options]) Parameters: Name Type Argument Default Description name string &lt;optional&gt; 'server' The name of the server. options object &lt;optional&gt; The app module's extra options defined in its parent's configuration. Source: WebServer.js Extends Routable(App) Members appModulesPath :string App modules path. Type: string Source: WebServer.js route :string Base route. Type: string Source: WebServer.js Methods mountApp(mountedRoute, app) Mount an app at specified route. Parameters: Name Type Description mountedRoute string app WebModule Source: WebServer.js Events httpReady Http server ready event Source: serverFeatures/koa.js × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
